@let user = userInfo();
@if (user) {
  <div [formGroup]="profileForm">
    <h1>Perfil</h1>

    <!-- Nombre -->
    <p><strong>Nombre:</strong> {{ user.name }}</p>
    <button type="button" (click)="editingName = !editingName">
      {{ editingName ? 'Cancelar' : 'Editar nombre' }}
    </button>
    @if (editingName) {
      <input type="text" formControlName="name" placeholder="Nuevo nombre" />
      <button type="button" (click)="updateName()">Guardar</button>
    }

    <!-- Email -->
    <p><strong>Email:</strong> {{ user.email }}</p>
    <button type="button" (click)="editingEmail = !editingEmail">
      {{ editingEmail ? 'Cancelar' : 'Editar email' }}
    </button>
    @if (editingEmail) {
      <input type="email" formControlName="email" placeholder="Nuevo email" />
      <button type="button" (click)="updateEmail()">Guardar</button>
    }

    <!-- Contrase単a -->
    <p><strong>Contrase単a:</strong> ********</p>
    <button type="button" (click)="editingPassword = !editingPassword">
      {{ editingPassword ? 'Cancelar' : 'Cambiar contrase単a' }}
    </button>
    @if (editingPassword) {
      <input type="password" formControlName="password" placeholder="Nueva contrase単a" />
      <button type="button" (click)="updatePassword()">Guardar</button>
    }

    <br/>
    <button (click)="logout()">Cerrar sesion</button>
  </div>
}

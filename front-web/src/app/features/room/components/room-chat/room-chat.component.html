<div id="chat-container" class="chat-messages">
  @for (message of messages(); track message.createdAt) {
    <div
      class="chat-bubble"
      [class.own-message]="currentUser()?.id === message.user.id"
    >
      <div class="author">{{ message.user.name }}</div>
      <div class="content">{{ message.content }}</div>
      <div class="timestamp">{{ message.createdAt | date:'shortTime' }}</div>
    </div>
  } @empty {
    <small>No hay mensajes</small>
  }
</div>

<div class="chat-input">
  <input
    type="text"
    [value]="newMessageContent()"
    (input)="newMessageContent.set($any($event.target).value)"
    (keydown.enter)="sendMessage(newMessageContent())"
    placeholder="Escribe un mensaje..."
  />
  <button (click)="sendMessage(newMessageContent())">Enviar</button>
</div>
